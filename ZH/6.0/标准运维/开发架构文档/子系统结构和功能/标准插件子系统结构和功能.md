# 标准插件子系统结构和功能

几个重要的概念：

- **framework**：系统预设的标准插件前端基本结构，所有的标准插件都按这种结构设计。
- **engine**：标准插件的参数组装和变量替换引擎，并负责把标准插件执行参数转换成前端展示的格式。
- **collection**：参数集合，标准插件的最小组成单位，如单选框、多选框、输入框等，每个标准插件都由一个或者多个参数组成。

标准运维产品的核心设计思想是将运维操作场景拆分成一个个独立的标准插件组件，然后提供方便组织管理这些标准插件组件的交互界面，将这些标准插件组件组织成各个运维场景的操作流程。

这里提到的标准插件组件的参数收集部分在标准运维内称为 gTags，负责展示标准插件组件的参数录入及展示。

标准插件组件跟前端中的 form 表单非常类似，其实标准插件组件(gTags)的实现思想就是 form 表单，但还是有些区别，标准插件组件与 form 表单主要有以下几点区别：

(1) 标准插件组件中基于每个输入项都是可勾选的，勾选之后的参数可以在任务创建页面填写；

(2) 标准插件组件中的输入项并不是普通的 form 表单输入项，有些是复杂的插件，比如带搜索功能的下拉框或 autocomplete，目前标准运维主要采用 kendo 框架定义用于前端输入的插件，用户也可以配置自己的 bootstrap 插件等；

(3) 标准插件组件中输入项校验规则不一样，勾选之后的输入项不进行校验，包含变量引用的输入项也不校验，其它的情形与普通 form 表单字段校验一样；

(4) 标准插件组件模块还负责将前端页面输入的参数生成最终的执行模块可直接使用的执行计划，以及执行计划的展示。

![-w2020](../assets/markdown-img-paste-20191018183327785.png)
